#pragma once
#include "../global/types.h"

#define	T4P_KEY_ESCAPE						0x01
#define	T4P_KEY_1							0x02
#define	T4P_KEY_2							0x03
#define	T4P_KEY_3							0x04
#define	T4P_KEY_4							0x05
#define	T4P_KEY_5							0x06
#define	T4P_KEY_6							0x07
#define	T4P_KEY_7							0x08
#define	T4P_KEY_8							0x09
#define	T4P_KEY_9							0x0A
#define	T4P_KEY_0							0x0B
#define	T4P_KEY_MINUS						0x0C
#define	T4P_KEY_EQUALS						0x0D
#define	T4P_KEY_BACK						0x0E
#define	T4P_KEY_TAB							0x0F
#define	T4P_KEY_Q							0x10
#define	T4P_KEY_W							0x11
#define	T4P_KEY_E							0x12
#define	T4P_KEY_R							0x13
#define	T4P_KEY_T							0x14
#define	T4P_KEY_Y							0x15
#define	T4P_KEY_U							0x16
#define	T4P_KEY_I							0x17
#define	T4P_KEY_O							0x18
#define	T4P_KEY_P							0x19
#define	T4P_KEY_LBRACKET					0x1A
#define	T4P_KEY_RBRACKET					0x1B
#define	T4P_KEY_RETURN						0x1C
#define	T4P_KEY_LCONTROL					0x1D
#define	T4P_KEY_A							0x1E
#define	T4P_KEY_S							0x1F
#define	T4P_KEY_D							0x20
#define	T4P_KEY_F							0x21
#define	T4P_KEY_G							0x22
#define	T4P_KEY_H							0x23
#define	T4P_KEY_J							0x24
#define	T4P_KEY_K							0x25
#define	T4P_KEY_L							0x26
#define	T4P_KEY_SEMICOLON					0x27
#define	T4P_KEY_APOSTROPHE					0x28
#define	T4P_KEY_GRAVE						0x29
#define	T4P_KEY_LSHIFT						0x2A
#define	T4P_KEY_BACKSLASH					0x2B
#define	T4P_KEY_Z							0x2C
#define	T4P_KEY_X							0x2D
#define	T4P_KEY_C							0x2E
#define	T4P_KEY_V							0x2F
#define	T4P_KEY_B							0x30
#define	T4P_KEY_N							0x31
#define	T4P_KEY_M							0x32
#define	T4P_KEY_COMMA						0x33
#define	T4P_KEY_PERIOD						0x34
#define	T4P_KEY_SLASH						0x35
#define	T4P_KEY_RSHIFT						0x36
#define	T4P_KEY_MULTIPLY					0x37
#define	T4P_KEY_LALT						0x38
#define	T4P_KEY_SPACE						0x39
#define	T4P_KEY_CAPS_LOCK					0x3A
#define	T4P_KEY_F1							0x3B
#define	T4P_KEY_F2							0x3C
#define	T4P_KEY_F3							0x3D
#define	T4P_KEY_F4							0x3E
#define	T4P_KEY_F5							0x3F
#define	T4P_KEY_F6							0x40
#define	T4P_KEY_F7							0x41
#define	T4P_KEY_F8							0x42
#define	T4P_KEY_F9							0x43
#define	T4P_KEY_F10							0x44
#define	T4P_KEY_NUMLOCK						0x45
#define	T4P_KEY_SCROLL						0x46
#define	T4P_KEY_NUMPAD7						0x47
#define	T4P_KEY_NUMPAD8						0x48
#define	T4P_KEY_NUMPAD9						0x49
#define	T4P_KEY_SUBTRACT					0x4A
#define	T4P_KEY_NUMPAD4						0x4B
#define	T4P_KEY_NUMPAD5						0x4C
#define	T4P_KEY_NUMPAD6						0x4D
#define	T4P_KEY_ADD							0x4E
#define	T4P_KEY_NUMPAD1						0x4F
#define	T4P_KEY_NUMPAD2						0x50
#define	T4P_KEY_NUMPAD3						0x51
#define	T4P_KEY_NUMPAD0						0x52
#define	T4P_KEY_NUMPADPERIOD				0x53
#define	T4P_KEY_OEM_102						0x56
#define	T4P_KEY_F11							0x57
#define	T4P_KEY_F12							0x58
#define	T4P_KEY_F13							0x64	
#define	T4P_KEY_F14							0x65
#define	T4P_KEY_F15							0x66
#define	T4P_KEY_KANA						0x70
#define	T4P_KEY_ABNT_C1						0x73
#define	T4P_KEY_CONVERT						0x79
#define	T4P_KEY_NOCONVERT					0x7B
#define	T4P_KEY_YEN							0x7D
#define	T4P_KEY_ABNT_C2						0x7E
#define	T4P_KEY_NUMPADEQUALS				0x8D
#define	T4P_KEY_PREVTRACK					0x90
#define	T4P_KEY_AT							0x91
#define	T4P_KEY_COLON						0x92
#define	T4P_KEY_UNDERLINE					0x93
#define	T4P_KEY_KANJI						0x94
#define	T4P_KEY_STOP						0x95
#define	T4P_KEY_AX							0x96
#define	T4P_KEY_UNLABELED					0x97
#define	T4P_KEY_NEXTTRACK					0x99
#define	T4P_KEY_NUMPADENTER					0x9C
#define	T4P_KEY_RCONTROL					0x9D
#define	T4P_KEY_MUTE						0xA0
#define	T4P_KEY_CALCULATOR					0xA1
#define	T4P_KEY_PLAYPAUSE					0xA2
#define	T4P_KEY_MEDIASTOP					0xA4
#define	T4P_KEY_VOLUMEDOWN					0xAE
#define	T4P_KEY_VOLUMEUP					0xB0
#define	T4P_KEY_WEBHOME						0xB2
#define	T4P_KEY_NUMPADCOMMA					0xB3
#define	T4P_KEY_DIVIDE						0xB5
#define	T4P_KEY_SYSRQ						0xB7
#define	T4P_KEY_RALT						0xB8
#define	T4P_KEY_PAUSE						0xC5
#define	T4P_KEY_HOME						0xC7
#define	T4P_KEY_UP							0xC8
#define	T4P_KEY_PAGE_UP						0xC9
#define	T4P_KEY_LEFT						0xCB
#define	T4P_KEY_RIGHT						0xCD
#define	T4P_KEY_END							0xCF
#define	T4P_KEY_DOWN						0xD0
#define	T4P_KEY_PAGE_DOWN					0xD1
#define	T4P_KEY_INSERT						0xD2
#define	T4P_KEY_DELETE						0xD3
#define	T4P_KEY_LWIN						0xDB
#define	T4P_KEY_RWIN						0xDC
#define	T4P_KEY_APPS						0xDD
#define	T4P_KEY_POWER						0xDE
#define	T4P_KEY_SLEEP						0xDF
#define	T4P_KEY_WAKE						0xE3
#define	T4P_KEY_WEBSEARCH					0xE5
#define	T4P_KEY_WEBFAVORITES				0xE6
#define	T4P_KEY_WEBREFRESH					0xE7
#define	T4P_KEY_WEBSTOP						0xE8
#define	T4P_KEY_WEBFORWARD					0xE9
#define	T4P_KEY_WEBBACK						0xEA
#define	T4P_KEY_MYCOMPUTER					0xEB
#define	T4P_KEY_MAIL						0xEC
#define	T4P_KEY_MEDIASELECT					0xED

extern int convert_sdl_scancode_to_tomb_keycode(int scancode);
extern int convert_tomb_keycode_to_sdl_scancode(int tomb_keycode);

extern void UpdateGamepad();

extern void InputInit();
extern void InputShutdown();

extern bool IsKeyPressed(int t4p_key);

enum InputAction {
	INPUT_ACTION_FORWARD = 0,
	INPUT_ACTION_BACK,
	INPUT_ACTION_LEFT,
	INPUT_ACTION_RIGHT,
	INPUT_ACTION_DUCK,
	INPUT_ACTION_SPRINT,
	INPUT_ACTION_WALK,
	INPUT_ACTION_JUMP,
	INPUT_ACTION_INTERACT,
	INPUT_ACTION_DRAW,
	INPUT_ACTION_FLARE,
	INPUT_ACTION_LOOK,
	INPUT_ACTION_ROLL,
	INPUT_ACTION_OPTION,
	INPUT_ACTION_SIDESTEP_LEFT,
	INPUT_ACTION_SIDESTEP_RIGHT,
	INPUT_ACTION_PAUSE,
	INPUT_ACTION_SELECT,
	INPUT_ACTION_UNSELECT,
	INPUT_ACTION_COUNT
};

bool IsActionPressed(InputAction action);

long S_UpdateInput();
long ReadJoystick(long& x, long& y);

#define INPUT_LAYOUT_COUNT 2

extern const char* KeyboardButtons[272];
extern const char* GermanKeyboard[272];

extern bool use_gamepad;
extern short keyboard_layout[INPUT_LAYOUT_COUNT][INPUT_ACTION_COUNT];

extern long conflict[INPUT_ACTION_COUNT];
extern long input;
extern long linput;
extern long dbinput;
extern long inputBusy;
extern short ammo_change_timer;
extern char ammo_change_buf[12];
